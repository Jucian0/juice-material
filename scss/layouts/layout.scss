.container {
    margin: 0 auto;
    max-width: 80rem;
    width: 100%;
}

@media #{$medium-and-up} {
    .container {
        width: 85%;
    }
}

@media #{$large-and-up} {
    .container {
        width: 70%;
    }
}

.col .row {
    margin-left: -1 * $gutter-width / 2;
    margin-right: -1 * $gutter-width / 2;
}

.section {
    padding-top: 1rem;
    padding-bottom: 1rem;

    &.no-pad {
        padding: 0;
    }

    &.no-pad-bot {
        padding-bottom: 0;
    }

    &.no-pad-top {
        padding-top: 0;
    }
}

/**************************** MIXINS CREATORS OFFSET AND GRID SYSTEM ****************************/
@mixin reset-offset {
    margin-left: auto;
    left: auto;
    right: auto;
}

@mixin grid-classes($size, $i, $perc) {
    &.offset-#{$size}#{$i} {
        margin-left: $perc!important;
    }

    &.offset#{$i} {
        margin-left: $perc!important;
    }

    &.pull-#{$size}#{$i} {
        right: $perc!important;
    }

    &.push-#{$size}#{$i} {
        left: $perc!important;
    }
}

@mixin grid-make-order-col {
    @for $var from 1 to 12 {
        .order#{-$var} {
            order: $var;
            -ms-flex-order: $var;
        }
    }
}

@mixin grid-make-columns($size) {
    $i: 1;

    @while $i <= $num-cols {
        $perc: unquote(100 / ($num-cols / $i) + "%");

        &.#{$size}#{$i} {
            max-width: $perc;
            -ms-flex: 0 0 $perc;
            flex: 0 0 $perc;
            @include reset-offset;
        }

        $i: $i + 1;
    }

    $i: 1;

    @while $i <= $num-cols {
        $perc: unquote(100 / ($num-cols / $i) + "%");

        @include grid-classes($size, $i, $perc);

        $i: $i + 1;
    }
}

@mixin grid-align-column($size) {
    $variations: flex-start, flex-end, center;
    $variations-ms: start, end, center;

    @each $var in $variations {
        $index: index($variations, $var);

        .justify-content-#{$size}-#{$var} {
            justify-content: $var;
            -ms-flex-pack: nth($variations-ms, $index);
        }
    }
}

/***************************** END MIXINS ********************************/

.row {

    display: -ms-flexbox;
    display: flex;
    -ms-flex-wrap: wrap;
    flex-wrap: wrap;
    margin-left: auto;
    margin-right: auto;
    margin-bottom: 20px;

    @include grid-make-order-col;

    // Clear floating children
    &:after {
        content: "";
        display: table;
        clear: both;
    }

    .col {
        -ms-flex-preferred-size: 0;
        flex-basis: 0;
        -ms-flex-positive: 1;
        flex-grow: 1;
        max-width: 100%;
        box-sizing: border-box;
        padding: 0 ($gutter-width / 2);
        margin: 0!important;
        
        &[class*="push-"],
        &[class*="pull-"] {
            position: relative;
        }

        @include grid-make-columns("sm");

        @media #{$medium-and-up} {
            @include grid-make-columns("md");
        }

        @media #{$large-and-up} {
            @include grid-make-columns("lg");
        }

        @media #{$extra-large-and-up} {
            @include grid-make-columns("xl");
        }
    }
}

@include grid-align-column("sm");
@include grid-align-column("md");
@include grid-align-column("lg");
@include grid-align-column("xl");
